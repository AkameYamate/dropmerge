(this.webpackJsonpvotting=this.webpackJsonpvotting||[]).push([[0],{21:function(t,e,n){},22:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),a=n(16),s=n.n(a),i=(n(21),n(22),n(4)),r=n(3),d=n.n(r),l=n(0),u=n.p+"static/media/metamask.7d8c66c4.png",h=function(t){var e=Object(c.useState)(""),n=Object(i.a)(e,2),o=n[0],a=n[1],s=Object(c.useState)(0),r=Object(i.a)(s,2),h=(r[0],r[1]),j=Object(c.useState)([]),b=Object(i.a)(j,2),g=b[0],p=b[1],f=Object(c.useState)([]),x=Object(i.a)(f,2),O=x[0],m=x[1],w=Object(c.useState)(""),C=Object(i.a)(w,2),S=C[0],k=C[1],v=new Date,y="".concat(v.getDate(),"/").concat(v.getMonth()+1,"/").concat(v.getFullYear());return Object(c.useEffect)((function(){d.a.post("/api/getCount",{date:y}).then((function(t){p(t.data.addresses),m(t.data.counts)})).catch((function(t){console.log(t)})),d.a.post("/api/deleteCount",{date:y}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("button",{style:{float:"right",marginRight:"20px",marginTop:"20px",backgroundColor:"transparent",padding:"10px 30px",borderColor:"blue",borderRadius:"20px",fontSize:"20px",color:"white"},onClick:function(){window.ethereum&&window.ethereum.request({method:"eth_requestAccounts"}).then((function(t){t.length&&(a(t[0]),window.sessionStorage.setItem("connect","1"),d.a.post("/api/saveAddress",{address:t[0],dater:y}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),d.a.post("/api/getCount",{date:y}).then((function(t){p(t.data.addresses),m(t.data.counts)})).catch((function(t){console.log(t)})))}))},children:[Object(l.jsx)("img",{alt:u,src:u,width:20,height:20,style:{marginRight:10}})," ",o?Object(l.jsx)("span",{children:o.slice(0,5)+"..."+o.slice(-2)}):Object(l.jsx)("span",{children:"CONNECT"})," "]}),Object(l.jsx)("button",{style:{float:"right",marginRight:"20px",marginTop:"20px",backgroundColor:"transparent",padding:"10px 30px",borderColor:"blue",borderRadius:"20px",fontSize:"20px",color:"white"},disabled:""===o||"flag"===S,onClick:function(){setTimeout((function(){k("flag")}),0),setTimeout((function(){k("")}),5e3),h(document.getElementById("game_mark").value),d.a.post("/api/saveScore",{score:document.getElementById("game_mark").value,address:o,date:y}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),d.a.post("/api/getCount",{date:y}).then((function(t){p(t.data.addresses),m(t.data.counts)})).catch((function(t){console.log(t)}))},children:"Upload Score"}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Address"}),Object(l.jsx)("th",{children:"Counts"})]})}),Object(l.jsxs)("tbody",{children:[Object(l.jsx)("td",{style:{width:"70%"},children:g.map((function(t){return Object(l.jsx)("tr",{children:t.slice(0,5)+"..."+t.slice(-3)})}))}),Object(l.jsx)("td",{children:O.map((function(t){return Object(l.jsx)("tr",{children:t})}))})]})]})]})};function j(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(h,{})})}s.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(j,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.ec28c36e.chunk.js.map