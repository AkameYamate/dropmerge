{"version":3,"sources":["assets/metamask.png","component/ConnectBtn.js","App.js","index.js"],"names":["ConnectBtn","useState","address","setAddress","tbladdresses","setTblAddresses","tblcounts","setTblCounts","current","Date","date","getDate","getMonth","getFullYear","setInterval","document","getElementById","value","axios","post","score","then","res","console","log","catch","err","data","addresses","counts","star","useEffect","style","backgroundColor","padding","borderColor","borderRadius","fontSize","color","marginTop","className","onClick","window","ethereum","request","method","accs","length","sessionStorage","setItem","dater","alt","metamaskicon","src","width","height","marginRight","slice","marginLeft","map","itemAddress","itemCounts","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0fa3ff05.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/metamask.7d8c66c4.png\";","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport metamaskicon from \"../assets/metamask.png\";\r\n\r\nconst ConnectBtn = () => {\r\n  const [address, setAddress] = useState(\"\");\r\n  const [tbladdresses, setTblAddresses] = useState([]);\r\n  const [tblcounts, setTblCounts] = useState([]);\r\n\r\n  const current = new Date();\r\n  const date = `${current.getDate()}/${\r\n    current.getMonth() + 1\r\n  }/${current.getFullYear()}`;\r\n\r\n  const SaveScore = () => {\r\n    axios\r\n      .post(\"/api/saveScore\", {\r\n        score: document.getElementById(\"game_mark\").value,\r\n        address: address,\r\n        date: date,\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    axios\r\n      .post(\"/api/getCount\", { date: date })\r\n      .then((res) => {\r\n        setTblAddresses(res.data.addresses);\r\n        setTblCounts(res.data.counts);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const handleConnect = () => {\r\n    const { ethereum } = window;\r\n\r\n    if (ethereum) {\r\n      window.ethereum\r\n        .request({ method: \"eth_requestAccounts\" })\r\n        .then((accs) => {\r\n          if (accs.length) {\r\n            setAddress(accs[0]);\r\n\r\n            window.sessionStorage.setItem(\"connect\", \"1\");\r\n\r\n            axios\r\n              .post(\"/api/saveAddress\", {\r\n                address: accs[0],\r\n                dater: date,\r\n              })\r\n              .then((res) => {\r\n                console.log(res);\r\n              })\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n            axios\r\n              .post(\"/api/getCount\", { date: date })\r\n              .then((res) => {\r\n                setTblAddresses(res.data.addresses);\r\n                setTblCounts(res.data.counts);\r\n              })\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const getStar = () => {\r\n    if (document.getElementById(\"game_state\").value == \"true\") {\r\n      SaveScore();\r\n\r\n      axios\r\n        .post(\"/api/SaveStar\", {\r\n          star: document.getElementById(\"starcount\").value,\r\n          address: address,\r\n          date: date,\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n      axios\r\n        .post(\"/api/getCount\", { date: date })\r\n        .then((res) => {\r\n          setTblAddresses(res.data.addresses);\r\n          setTblCounts(res.data.counts);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n      document.getElementById(\"game_state\").value = \"false\";\r\n    }\r\n  };\r\n  setInterval(getStar, 1);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"/api/getCount\", { date: date })\r\n      .then((res) => {\r\n        setTblAddresses(res.data.addresses);\r\n        setTblCounts(res.data.counts);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    axios\r\n      .post(\"/api/deleteCount\", { date: date })\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  return (\r\n    <>\r\n      <button\r\n        style={{\r\n          backgroundColor: \"transparent\",\r\n          padding: \"10px 30px\",\r\n          borderColor: \"blue\",\r\n          borderRadius: \"20px\",\r\n          fontSize: \"20px\",\r\n          color: \"white\",\r\n          marginTop: \"15%\",\r\n        }}\r\n        className=\"connectbtn\"\r\n        onClick={handleConnect}\r\n      >\r\n        <img\r\n          alt={metamaskicon}\r\n          src={metamaskicon}\r\n          width={20}\r\n          height={20}\r\n          style={{ marginRight: 10 }}\r\n        />{\" \"}\r\n        {address ? (\r\n          <span>{address.slice(0, 5) + \"...\" + address.slice(-2)}</span>\r\n        ) : (\r\n          <span>CONNECT</span>\r\n        )}{\" \"}\r\n      </button>\r\n\r\n      {/* <button\r\n        style={{\r\n          backgroundColor: \"transparent\",\r\n          padding: \"10px 30px\",\r\n          borderColor: \"blue\",\r\n          borderRadius: \"20px\",\r\n          fontSize: \"20px\",\r\n          color: \"white\",\r\n          id: \"upload\",\r\n          display: \"none\",\r\n        }}\r\n        disabled={address === \"\" || flag === \"flag\"}\r\n        onClick={SaveScore}\r\n      >\r\n        Upload Score\r\n      </button> */}\r\n      <table style={{ width: \"50%\", marginTop: \"80px\", marginLeft: \"25%\" }}>\r\n        <thead>\r\n          <tr>\r\n            {/* <th>#</th> */}\r\n            <th>Address</th>\r\n            <th>Counts</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <td>\r\n            {tbladdresses.map((itemAddress) => (\r\n              <tr>{itemAddress.slice(0, 5) + \"...\" + itemAddress.slice(-3)}</tr>\r\n            ))}\r\n          </td>\r\n          <td>\r\n            {tblcounts.map((itemCounts) => (\r\n              <tr>{itemCounts}</tr>\r\n            ))}\r\n          </td>\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  );\r\n};\r\nexport default ConnectBtn;\r\n","import \"./App.css\";\nimport React from \"react\";\nimport Count from \"./component/Count\";\nimport ConnectBtn from \"./component/ConnectBtn\";\n\n\nexport default function App() {\n  return (\n    <>\n      <ConnectBtn />\n      {/* <Count /> */}\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}